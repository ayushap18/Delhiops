# Application Configuration
PORT=3000
NODE_ENV=development

# PostgreSQL Database Configuration
POSTGRES_USER=admin
POSTGRES_PASSWORD=secret
POSTGRES_DB=delhi_ops
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_POOL_MAX=20
POSTGRES_POOL_IDLE_MS=30000
POSTGRES_QUERY_TIMEOUT_MS=8000
POSTGRES_STATEMENT_TIMEOUT_MS=10000
DATABASE_URL=postgresql://admin:secret@db:5432/delhi_ops

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# Security Configuration
JWT_SECRET="your_super_secret_jwt_key"
JWT_EXPIRES_IN=2h
CORS_ORIGIN="http://localhost:5173" # Assuming a React/Vite frontend

# Admin seed (optional)
ADMIN_SEED_EMAIL=admin@delhiops.local
ADMIN_SEED_PASSWORD=ChangeMeNow123!
ADMIN_SEED_ROLE=Admin

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# Request throttling
SLOW_DOWN_WINDOW_MS=900000
SLOW_DOWN_DELAY_AFTER=50
SLOW_DOWN_DELAY_MS=200

# Cache controls (seconds)
CACHE_WARM_ON_STARTUP=true
CACHE_L1_MAX_ENTRIES=2000
CACHE_L1_CLEANUP_MS=30000
CACHE_TTL_AQI_SECONDS=300
CACHE_TTL_TRAFFIC_SECONDS=120
CACHE_TTL_CAMERAS_SECONDS=1800
CACHE_TTL_INCIDENTS_SECONDS=60
CACHE_TTL_CRIME_SECONDS=900
CACHE_TTL_STATIC_CONFIG_SECONDS=86400
CACHE_TTL_USER_PREFERENCES_SECONDS=0
CACHE_STALE_AQI_SECONDS=120
CACHE_STALE_TRAFFIC_SECONDS=60

# AQI alerts
AQI_ALERT_THRESHOLD=300

# Socket.IO configuration
SOCKET_PER_MESSAGE_DEFLATE=true
SOCKET_PING_INTERVAL_MS=25000
SOCKET_PING_TIMEOUT_MS=20000
SOCKET_MAX_CONNECTIONS_PER_IP=10
SOCKET_IDLE_TIMEOUT_MS=120000
SOCKET_BATCH_INTERVAL_MS=500
SOCKET_BATCH_EVENTS=stats:update,traffic:congestion
SOCKET_RECOVERY_MAX_MS=120000
SOCKET_REDIS_ADAPTER=false

# External integrations
CPCB_BASE_URL=https://api.data.gov.in/resource
CPCB_RESOURCE_ID=
CPCB_API_KEY=
CPCB_DEFAULT_LIMIT=100
CPCB_TIMEOUT_MS=8000
CPCB_MIN_INTERVAL_MS=500

OWM_BASE_URL=https://api.openweathermap.org/data/2.5
OWM_API_KEY=
OWM_TIMEOUT_MS=8000
OWM_MIN_INTERVAL_MS=500

GOOGLE_ROUTES_BASE_URL=https://routes.googleapis.com/directions/v2:computeRoutes
GOOGLE_MAPS_API_KEY=
GOOGLE_TRAFFIC_MODEL=BEST_GUESS
GOOGLE_ROUTES_TIMEOUT_MS=8000
GOOGLE_ROUTES_MIN_INTERVAL_MS=300

TOMTOM_BASE_URL=https://api.tomtom.com/traffic/services/4/flowSegmentData
TOMTOM_API_KEY=
TOMTOM_FLOW_STYLE=relative0
TOMTOM_FLOW_ZOOM=10
TOMTOM_FLOW_UNIT=kmph
TOMTOM_TIMEOUT_MS=8000
TOMTOM_MIN_INTERVAL_MS=300

EXTERNAL_RETRY_ATTEMPTS=3
EXTERNAL_RETRY_BASE_DELAY_MS=500
EXTERNAL_RETRY_MAX_DELAY_MS=5000
