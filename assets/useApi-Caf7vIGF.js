import{r as t,e as P}from"./index-LIPNnWQ7.js";function v(n,g={}){const{page:o=1,limit:c=50,params:m={},enabled:i=!0}=g,[S,l]=t.useState([]),[h,u]=t.useState(!0),[y,f]=t.useState(null),[E,b]=t.useState(null),p=JSON.stringify(m),e=t.useCallback(async()=>{if(i){u(!0),f(null);try{const a={page:o,limit:c},s=JSON.parse(p);for(const[O,r]of Object.entries(s))r!==void 0&&r!==""&&(a[O]=r);const{data:d}=await P.get(n,{params:a});l(d.data),b(d.pagination)}catch(a){const s=a instanceof Error?a.message:"Failed to fetch data";f(s)}finally{u(!1)}}},[n,o,c,i,p]);return t.useEffect(()=>{e()},[e]),{data:S,setData:l,loading:h,error:y,pagination:E,refetch:e}}export{v as u};
