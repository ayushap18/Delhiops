import{u as q,a as Z,r,j as e,N as Q}from"./index-LIPNnWQ7.js";const T=[{text:"[BIOS]  POST check .................... OK",delay:0},{text:"[BIOS]  CPU: Intel Xeon E5-2698v4 x2 .. OK",delay:60},{text:"[BIOS]  RAM: 256 GB ECC DDR4 .......... OK",delay:60},{text:"[KERN]  Loading kernel 6.8.0-ops ....... OK",delay:80},{text:"[KERN]  Initializing crypto subsystem .. OK",delay:70},{text:"[INIT]  Mounting encrypted rootfs ....... OK",delay:90},{text:"[INIT]  Starting system logger .......... OK",delay:50},{text:"[NET ]  Bringing up interface eth0 ...... OK",delay:80},{text:"[NET ]  Acquiring IPv4 via DHCP ......... OK",delay:100},{text:"[NET ]  Establishing VPN tunnel ......... OK",delay:120},{text:"[SEC ]  Loading firewall rules .......... OK",delay:60},{text:"[SEC ]  Verifying TLS certificates ....... OK",delay:70},{text:"[SEC ]  Intrusion detection active ....... OK",delay:60},{text:"[DATA]  Connecting to threat intel DB .... OK",delay:110},{text:"[DATA]  Loading geospatial indices ....... OK",delay:90},{text:"[DATA]  Syncing incident registry ........ OK",delay:80},{text:"[SYS ]  Allocating shared memory pool .... OK",delay:60},{text:"[SYS ]  Starting websocket daemon ........ OK",delay:70},{text:"[MON ]  Network scan: 14 nodes online .... OK",delay:100},{text:"[MON ]  Camera feeds: 847/847 active ..... OK",delay:80},{text:"[MON ]  AQI sensors: 312/312 reporting ... OK",delay:70},{text:"[THRT]  Current threat level: ELEVATED",delay:90},{text:"[THRT]  Active incidents: 23 in progress",delay:60},{text:"[BOOT]  Delhi Ops Command Center v2.4.1",delay:80},{text:"[BOOT]  All subsystems nominal.",delay:100},{text:"",delay:200},{text:"[AUTH]  Awaiting operator credentials ...",delay:0}],O=`
 ____  _____ _     _   _ ___    ___  ____  ____
|  _ \\| ____| |   | | | |_ _|  / _ \\|  _ \\/ ___|
| | | |  _| | |   | |_| || |  | | | | |_) \\___ \\
| |_| | |___| |___|  _  || |  | |_| |  __/ ___) |
|____/|_____|_____|_| |_|___|  \\___/|_|   |____/
`;function W(){const i=r.useRef(null);return r.useEffect(()=>{const n=i.current;if(!n)return;const t=n.getContext("2d");if(!t)return;let d;const s=()=>{n.width=window.innerWidth,n.height=window.innerHeight};s(),window.addEventListener("resize",s);const p="01アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン",l=14,f=Math.floor(n.width/l),m=new Array(f).fill(0).map(()=>Math.random()*-100),u=()=>{t.fillStyle="rgba(2, 10, 2, 0.06)",t.fillRect(0,0,n.width,n.height),t.fillStyle="#00ff4115",t.font=`${l}px monospace`;for(let c=0;c<m.length;c++){const _=p[Math.floor(Math.random()*p.length)],o=c*l,g=m[c]*l;Math.random()>.96?t.fillStyle="#00ff4140":t.fillStyle="#00ff4112",t.fillText(_,o,g),g>n.height&&Math.random()>.975&&(m[c]=0),m[c]+=.5+Math.random()*.5}d=requestAnimationFrame(u)};return u(),()=>{cancelAnimationFrame(d),window.removeEventListener("resize",s)}},[]),e.jsx("canvas",{ref:i,className:"fixed inset-0 z-0",style:{background:"#020a02"}})}function X({progress:i}){const t=Math.round(i/100*40),d=40-t,s="█".repeat(t)+"░".repeat(d);return e.jsxs("div",{className:"font-mono text-[11px] mt-1 select-none",children:[e.jsx("span",{className:"text-gray-600",children:"["}),e.jsx("span",{className:"text-brand",style:{textShadow:"0 0 6px #00ff4160"},children:s}),e.jsx("span",{className:"text-gray-600",children:"]"}),e.jsxs("span",{className:"text-brand ml-2",children:[i.toFixed(0),"%"]})]})}function $(){return e.jsxs("div",{className:"relative inline-block select-none",children:[e.jsx("pre",{className:"font-mono text-brand text-[10px] sm:text-xs leading-tight absolute top-0 left-0",style:{textShadow:"0 0 10px #00ff4180, 0 0 40px #00ff4130",animation:"glitch-layer-1 4s infinite",clipPath:"inset(0 0 65% 0)",color:"#00d4ff",opacity:.8},"aria-hidden":"true",children:O}),e.jsx("pre",{className:"font-mono text-brand text-[10px] sm:text-xs leading-tight absolute top-0 left-0",style:{textShadow:"0 0 10px #00ff4180, 0 0 40px #00ff4130",animation:"glitch-layer-2 4s infinite",clipPath:"inset(60% 0 0 0)",color:"#ff003c",opacity:.8},"aria-hidden":"true",children:O}),e.jsx("pre",{className:"font-mono text-brand text-[10px] sm:text-xs leading-tight relative",style:{textShadow:"0 0 10px #00ff4180, 0 0 40px #00ff4130, 0 0 80px #00ff4110"},children:O}),e.jsx("style",{children:`
        @keyframes glitch-layer-1 {
          0%, 88%, 100% { transform: translate(0); opacity: 0; }
          89% { transform: translate(-3px, -1px); opacity: 0.7; }
          90% { transform: translate(2px, 1px); opacity: 0.7; }
          91% { transform: translate(-1px, 2px); opacity: 0.7; }
          92% { transform: translate(0); opacity: 0; }
        }
        @keyframes glitch-layer-2 {
          0%, 93%, 100% { transform: translate(0); opacity: 0; }
          94% { transform: translate(3px, 1px); opacity: 0.6; }
          95% { transform: translate(-2px, -1px); opacity: 0.6; }
          96% { transform: translate(1px, -2px); opacity: 0.6; }
          97% { transform: translate(0); opacity: 0; }
        }
      `})]})}function J(){return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0",style:{animation:"green-flash 1.8s ease-out forwards",background:"radial-gradient(ellipse at center, #00ff4130, transparent 70%)"}}),e.jsxs("div",{className:"relative text-center",children:[e.jsx("div",{className:"font-mono text-4xl sm:text-6xl font-bold tracking-[0.3em] text-brand",style:{textShadow:"0 0 20px #00ff41, 0 0 60px #00ff4180, 0 0 120px #00ff4140",animation:"access-text-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards"},children:"ACCESS GRANTED"}),e.jsx("div",{className:"font-mono text-xs text-brand/60 mt-4 tracking-[0.5em]",style:{animation:"access-text-in 0.6s cubic-bezier(0.16, 1, 0.3, 1) 0.3s both"},children:"INITIALIZING SESSION ..."})]}),e.jsx("style",{children:`
        @keyframes green-flash {
          0% { background: radial-gradient(ellipse at center, #00ff4160, #00ff4110 40%, transparent 70%); }
          15% { background: radial-gradient(ellipse at center, #00ff4140, #00ff4108 40%, transparent 70%); }
          100% { background: radial-gradient(ellipse at center, #00ff4110, transparent 50%); }
        }
        @keyframes access-text-in {
          0% { opacity: 0; transform: scale(0.8) translateY(10px); filter: blur(4px); }
          100% { opacity: 1; transform: scale(1) translateY(0); filter: blur(0); }
        }
      `})]})}function se(){const{user:i,login:n,loading:t}=q(),d=Z(),[s,p]=r.useState(""),[l,f]=r.useState(""),[m,u]=r.useState(""),[c,_]=r.useState(!1),[o,g]=r.useState("booting"),[L,M]=r.useState([]),[B,k]=r.useState(""),[P,H]=r.useState(0),[I,F]=r.useState(!1),[A,V]=r.useState(!1),[h,w]=r.useState(null),v=r.useRef(null),S=r.useRef(null),C=r.useRef(null),R=r.useRef(!0),E=r.useCallback(()=>{v.current&&(v.current.scrollTop=v.current.scrollHeight)},[]);if(r.useEffect(()=>{R.current=!0;let a=!1;async function x(){for(let j=0;j<T.length;j++){if(a)return;const{text:y,delay:K}=T[j];if(K>0&&await N(K),a)return;const G=y.length>0?Math.max(6,18-y.length/5):0;for(let b=0;b<=y.length;b++){if(a)return;k(y.slice(0,b)),E(),b<y.length&&await N(G)}if(a)return;M(b=>[...b,y]),k("");const U=(j+1)/T.length*100;H(U),E()}a||(g("header_reveal"),await N(400),!a&&(F(!0),await N(1200),!a&&(g("login_prompt"),await N(300),!a&&(V(!0),await N(200),!a&&S.current&&S.current.focus()))))}return x(),()=>{a=!0,R.current=!1}},[E]),t)return null;if(i&&o!=="access_granted")return e.jsx(Q,{to:"/",replace:!0});const Y=async a=>{a.preventDefault(),u(""),_(!0);try{await n(s,l),g("access_granted"),setTimeout(()=>{d("/",{replace:!0})},2200)}catch(x){x&&typeof x=="object"&&"response"in x?u(x.response?.data?.error?.message||"ACCESS DENIED"):u("CONNECTION FAILED. RETRY.")}finally{_(!1)}},z=(a,x)=>{a.key==="Enter"&&x==="email"&&s.trim()&&(a.preventDefault(),C.current?.focus())};return e.jsxs("div",{className:"fixed inset-0 overflow-hidden",style:{background:"#020a02"},children:[e.jsx(W,{}),e.jsx("div",{className:"scanline-overlay"}),e.jsx("div",{className:"grid-lines-bg fixed inset-0 opacity-30"}),e.jsx("div",{className:"scan-line"}),o==="access_granted"&&e.jsx(J,{}),e.jsx("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:e.jsx("div",{className:"w-full max-w-3xl",children:e.jsxs("div",{className:"border border-brand/20 relative",style:{boxShadow:"0 0 30px rgba(0,255,65,0.08), 0 0 60px rgba(0,255,65,0.03), inset 0 0 30px rgba(0,255,65,0.02)",background:"rgba(2, 10, 2, 0.92)",backdropFilter:"blur(8px)"},children:[e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 border-b border-brand/15 bg-brand/[0.03]",children:[e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-danger/70"}),e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-warning/70"}),e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand/70"})]}),e.jsx("div",{className:"flex-1 text-center",children:e.jsx("span",{className:"text-[9px] text-gray-500 font-mono tracking-[0.3em] uppercase",children:"delhi-ops-terminal -- secure shell -- 132x48"})}),e.jsx("div",{className:"w-12"})]}),e.jsxs("div",{ref:v,className:"p-4 sm:p-6 font-mono overflow-y-auto",style:{maxHeight:"calc(100vh - 120px)"},children:[L.map((a,x)=>e.jsx("div",{className:"leading-relaxed",children:D(a)},x)),o==="booting"&&e.jsxs("div",{className:"leading-relaxed",children:[D(B),e.jsx("span",{className:"inline-block w-[7px] h-[13px] ml-px align-middle",style:{background:"#00ff41",animation:"blink-cursor 1s step-end infinite",boxShadow:"0 0 6px #00ff4180"}})]}),o==="booting"&&e.jsx("div",{className:"mt-2",children:e.jsx(X,{progress:P})}),(o==="header_reveal"||o==="login_prompt"||o==="access_granted")&&e.jsxs("div",{className:"mt-4 mb-2 overflow-hidden",style:{opacity:I?1:0,transform:I?"translateY(0)":"translateY(10px)",transition:"opacity 0.8s ease-out, transform 0.8s ease-out"},children:[e.jsx($,{}),e.jsxs("div",{className:"mt-1 flex items-center gap-3",children:[e.jsx("span",{className:"text-[10px] text-gray-500 tracking-[0.4em] uppercase font-[Orbitron]",children:"Command Center"}),e.jsx("span",{className:"text-[9px] text-gray-600",children:"|"}),e.jsx("span",{className:"text-[9px] text-info tracking-wider",children:"ENCRYPTED CONNECTION"}),e.jsx("span",{className:"text-[9px] text-gray-600",children:"|"}),e.jsx("span",{className:"text-[9px] text-gray-600 tracking-wider",children:"TLS 1.3 // AES-256-GCM"})]}),e.jsx("div",{className:"mt-2 h-px bg-gradient-to-r from-brand/40 via-brand/15 to-transparent"})]}),(o==="login_prompt"||o==="access_granted")&&e.jsxs("div",{style:{opacity:A?1:0,transform:A?"translateY(0)":"translateY(8px)",transition:"opacity 0.5s ease-out, transform 0.5s ease-out"},children:[e.jsxs("form",{onSubmit:Y,children:[e.jsxs("div",{className:"text-[10px] text-warning tracking-wider mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"inline-block w-1.5 h-1.5 bg-warning rounded-full status-dot"}),e.jsx("span",{children:"AUTHENTICATION REQUIRED"})]}),m&&e.jsx("div",{className:"mb-4 py-2 px-3 border border-danger/30 bg-danger/5 glow-red",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-danger text-[10px] font-bold mt-px",children:"[ERR]"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-danger text-xs",children:m}),e.jsx("div",{className:"text-[9px] text-danger/50 mt-0.5",children:"Authentication failed. Verify credentials and retry."})]})]})}),e.jsxs("div",{className:"mb-3 flex items-center gap-0",children:[e.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap shrink-0",children:[h==="email"||s?e.jsx("span",{className:"text-brand",children:">"}):e.jsx("span",{className:"text-gray-600",children:">"})," ",e.jsx("span",{className:h==="email"||s?"text-info":"text-gray-500",children:"operator_id"}),e.jsx("span",{className:"text-gray-600 mx-1",children:":"})]}),e.jsx("input",{ref:S,type:"email",value:s,onChange:a=>p(a.target.value),onFocus:()=>w("email"),onBlur:()=>w(null),onKeyDown:a=>z(a,"email"),required:!0,autoComplete:"email",placeholder:"admin@delhiops.local",disabled:c||o==="access_granted",className:"flex-1 bg-transparent border-none outline-none text-xs text-brand font-mono placeholder-gray-700 caret-brand focus:ring-0 p-0 disabled:opacity-40",style:{caretColor:"#00ff41",textShadow:h==="email"?"0 0 8px #00ff4140":"none"}}),h==="email"&&e.jsx("span",{className:"inline-block w-[7px] h-[13px] ml-px shrink-0",style:{background:"#00ff41",animation:"blink-cursor 1s step-end infinite",boxShadow:"0 0 4px #00ff4180"}})]}),e.jsxs("div",{className:"mb-5 flex items-center gap-0",children:[e.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap shrink-0",children:[h==="password"||l?e.jsx("span",{className:"text-brand",children:">"}):e.jsx("span",{className:"text-gray-600",children:">"})," ",e.jsx("span",{className:h==="password"||l?"text-info":"text-gray-500",children:"access_key"}),e.jsx("span",{className:"text-gray-600 mx-1",children:":"})]}),e.jsx("input",{ref:C,type:"password",value:l,onChange:a=>f(a.target.value),onFocus:()=>w("password"),onBlur:()=>w(null),required:!0,autoComplete:"current-password",minLength:8,placeholder:"enter access key",disabled:c||o==="access_granted",className:"flex-1 bg-transparent border-none outline-none text-xs text-brand font-mono placeholder-gray-700 caret-brand focus:ring-0 p-0 disabled:opacity-40",style:{caretColor:"#00ff41",textShadow:h==="password"?"0 0 8px #00ff4140":"none"}}),h==="password"&&e.jsx("span",{className:"inline-block w-[7px] h-[13px] ml-px shrink-0",style:{background:"#00ff41",animation:"blink-cursor 1s step-end infinite",boxShadow:"0 0 4px #00ff4180"}})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"submit",disabled:c||o==="access_granted",className:"group flex items-center gap-2 border border-brand/30 bg-brand/5 px-5 py-2 text-[11px] font-bold text-brand tracking-[0.2em] uppercase font-mono hover:bg-brand/15 hover:border-brand/50 disabled:opacity-30 disabled:cursor-not-allowed transition-all",style:{boxShadow:c?"0 0 20px rgba(0,255,65,0.15)":"none"},children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"inline-block w-3 h-3 border border-brand/50 border-t-brand rounded-full",style:{animation:"spin 0.8s linear infinite"}}),e.jsx("span",{children:"AUTHENTICATING"}),e.jsx("span",{className:"typing-cursor"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-brand/60 group-hover:text-brand transition-colors",children:"[ENTER]"}),e.jsx("span",{children:"INITIALIZE SESSION"})]})}),c&&e.jsx("span",{className:"text-[9px] text-gray-500 animate-pulse",children:"Verifying credentials against secure directory..."})]})]}),e.jsx("div",{className:"mt-6 pt-3 border-t border-brand/10",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-[9px] text-gray-600 tracking-wider",children:[e.jsxs("span",{children:["SESSION:"," ",e.jsx("span",{className:"text-gray-500",children:ee()})]}),e.jsxs("span",{children:["NODE:"," ",e.jsx("span",{className:"text-gray-500",children:"OPS-TERMINAL-01"})]}),e.jsxs("span",{children:["CLEARANCE:"," ",e.jsx("span",{className:"text-warning",children:"RESTRICTED"})]}),e.jsxs("span",{children:["UPTIME:"," ",e.jsx("span",{className:"text-gray-500",children:"47d 13h 22m"})]})]})})]})]})]})})}),e.jsx("style",{children:`
        @keyframes spin {
          from { transform: rotate(0deg); }
          to { transform: rotate(360deg); }
        }
      `})]})}function N(i){return new Promise(n=>setTimeout(n,i))}function D(i){if(!i)return e.jsx("span",{children:" "});const n=i.match(/^(\[[A-Z ]+\])\s*/);if(!n)return e.jsx("span",{className:"text-[11px] text-gray-400",children:i});const t=n[1],d=i.slice(n[0].length);let s="text-gray-500";t.includes("BOOT")?s="text-info":t.includes("KERN")||t.includes("INIT")?s="text-gray-400":t.includes("NET")?s="text-info":t.includes("SEC")?s="text-warning":t.includes("DATA")?s="text-brand":t.includes("SYS")?s="text-gray-400":t.includes("MON")?s="text-info":t.includes("THRT")?s="text-danger":t.includes("AUTH")?s="text-warning":t.includes("BIOS")&&(s="text-gray-500");let p=d,l="",f="";return d.endsWith(" OK")?(p=d.slice(0,-3),l=" OK",f="text-brand"):d.includes("ELEVATED")&&(p=d.split("ELEVATED")[0],l="ELEVATED",f="text-warning"),e.jsxs("span",{className:"text-[11px]",children:[e.jsx("span",{className:s,children:t}),e.jsxs("span",{className:"text-gray-500",children:[" ",p]}),l&&e.jsx("span",{className:f,style:{textShadow:f==="text-brand"?"0 0 6px #00ff4140":void 0},children:l})]})}function ee(){const i="0123456789abcdef";let n="";for(let t=0;t<8;t++)n+=i[Math.floor(Math.random()*16)];return n}export{se as default};
