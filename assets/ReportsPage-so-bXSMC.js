import{c as q,r as D,j as e,t as de}from"./index-LIPNnWQ7.js";import{u as me}from"./useApi-Caf7vIGF.js";import{a5 as xe,A as M,R as k}from"./CategoricalChart-BdK7anDn.js";import{h as fe,C as T,X as I,Y as u,T as S,b as w}from"./ChartTooltip-BmMmTnkw.js";import{D as pe}from"./database-Bz-9_Hfz.js";import{A as he,b as Q,P as ge,a as be}from"./AreaChart-CMNzfxo5.js";import{L as ye,a as U}from"./LineChart-CKcjXPT0.js";import{B as K,a as $}from"./BarChart-DP76PTdv.js";import{C as L}from"./graphicalItemSelectors-OKOn1B9R.js";import{A as je}from"./activity-BiL81ND9.js";import"./PolarChart-kkXazOly.js";import"./ActivePoints-DZzz5lA6.js";import"./getRadiusAndStrokeWidthFromDot-lZTj4Q4q.js";import"./ErrorBarContext-Bul-u9tG.js";const ue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Z=q("download",ue);const ve=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ne=q("file-text",ve);const ke=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Se=q("trending-up",ke);var we=["axis"],Ae=D.forwardRef((x,g)=>D.createElement(fe,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:we,tooltipPayloadSearcher:xe,categoricalChartProps:x,ref:g}));const V={aqi:{label:"AIR QUALITY",color:"#00ff41",icon:"◉"},traffic:{label:"TRAFFIC",color:"#00d4ff",icon:"◈"},crime:{label:"CRIME",color:"#ff003c",icon:"◆"},incidents:{label:"INCIDENTS",color:"#ffb800",icon:"▲"}};function Ge(){const[x,g]=D.useState("aqi"),[b,A]=D.useState(""),[W,te]=D.useState(""),s=V[x],ae=`/${x==="incidents"?"incidents":x}`,oe={sort_by:"timestamp",sort_order:"desc",from_date:b||void 0,to_date:W||void 0},{data:z,loading:F}=me(ae,{limit:200,params:oe}),d=D.useMemo(()=>z.length>0||x!=="traffic"||F?z:Array.from({length:100},(t,o)=>{const i=Math.floor(o/100*48),N=new Date(Date.now()-i*60*60*1e3),f=N.getHours(),E=f>=8&&f<=11||f>=17&&f<=20?55+o*17%30:20+o*13%30,y=Math.max(5,Math.min(95,E)),Y=Math.max(5,Math.round(75-y*.65+o*7%10-5));return{id:o+1,congestion_level:y,speed:Y,timestamp:N.toISOString()}}),[z,x,F]),a=D.useMemo(()=>{if(!d.length)return null;const t=d,o={};t.forEach(r=>{const m=new Date(r.timestamp),p=`${m.getMonth()+1}/${m.getDate()}`;o[p]=(o[p]||0)+1});const i=Object.entries(o).map(([r,m])=>({date:r,count:m})).reverse().slice(-14);if(x==="aqi"){const r=d,m=Math.round(r.reduce((n,j)=>n+j.aqi,0)/r.length),p=Math.max(...r.map(n=>n.aqi)),C=Math.min(...r.map(n=>n.aqi)),P={pm25:_(r.map(n=>n.pm2_5)),pm10:_(r.map(n=>n.pm10)),o3:_(r.map(n=>n.o3)),no2:_(r.map(n=>n.no2)),so2:_(r.map(n=>n.so2)),co:_(r.map(n=>n.co))},H=[...r].reverse().slice(-20).map(n=>({time:new Date(n.timestamp).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),aqi:n.aqi,pm25:n.pm2_5??0}));return{type:"aqi",avgAqi:m,maxAqi:p,minAqi:C,avgPollutants:P,trendData:H,timeline:i,total:d.length}}if(x==="traffic"){const r=d,m=Math.round(r.reduce((l,c)=>l+c.congestion_level,0)/r.length),p=Math.round(r.reduce((l,c)=>l+c.speed,0)/r.length),C=Math.max(...r.map(l=>l.congestion_level)),P=Math.min(...r.map(l=>l.speed)),H=Math.max(...r.map(l=>l.speed)),n=[...r].reverse().slice(-20).map(l=>({time:new Date(l.timestamp).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit"}),congestion:l.congestion_level,speed:l.speed})),j=25,X=85-m*.3,B={operational:0,degraded:0,fault:0,offline:0};for(let l=0;l<j;l++){const c=(l*37+13)%100;c>95?B.offline++:c>X?B.fault++:c>X-8?B.degraded++:B.operational++}const O={};r.forEach(l=>{const c=new Date(l.timestamp).getHours();O[c]||(O[c]={count:0,totalCong:0,totalSpeed:0}),O[c].count++,O[c].totalCong+=l.congestion_level,O[c].totalSpeed+=l.speed});const ne=Array.from({length:24},(l,c)=>{const h=O[c];return{hour:`${c}:00`,congestion:h?Math.round(h.totalCong/h.count):0,speed:h?Math.round(h.totalSpeed/h.count):0}}),le=Object.entries(O).map(([l,c])=>({hour:parseInt(l),avg:c.totalCong/c.count})).sort((l,c)=>c.avg-l.avg)[0],ie=[{id:"central",name:"CENTRAL",weight:1.2},{id:"north",name:"NORTH",weight:.9},{id:"south",name:"SOUTH",weight:1.1},{id:"east",name:"EAST",weight:.8},{id:"west",name:"WEST",weight:.85},{id:"ne",name:"N-EAST",weight:.7},{id:"nw",name:"N-WEST",weight:.75},{id:"se",name:"S-EAST",weight:.95},{id:"sw",name:"S-WEST",weight:1}].map((l,c)=>{const h=(c*23+9)%35-17,J=Math.max(5,Math.min(95,Math.round(m*l.weight+h)));return{name:l.name,congestion:J}}).sort((l,c)=>c.congestion-l.congestion),ce=[{name:"Ring Road",baseDelay:45},{name:"Outer Ring Road",baseDelay:35},{name:"NH-48",baseDelay:55},{name:"GT Karnal Road",baseDelay:50},{name:"Vikas Marg",baseDelay:60},{name:"Mathura Road",baseDelay:40}].map((l,c)=>{const h=(c*17+7)%40-20,J=Math.max(5,Math.min(95,Math.round(m+h+(l.baseDelay-40)*.5)));return{name:l.name,value:J}}).sort((l,c)=>c.value-l.value);return{type:"traffic",avgCongestion:m,avgSpeed:p,maxCongestion:C,minSpeed:P,maxSpeed:H,trendData:n,timeline:i,total:d.length,signalStats:B,hourlyData:ne,peakHour:le,zoneData:ie,corridorData:ce}}if(x==="crime"){const r=d,m={},p={},C={};r.forEach(n=>{m[n.type]=(m[n.type]||0)+1,p[n.severity]=(p[n.severity]||0)+1,C[n.status]=(C[n.status]||0)+1});const P=Object.entries(m).map(([n,j])=>({name:n,value:j})).sort((n,j)=>j.value-n.value),H=Object.entries(p).map(([n,j])=>({name:n,value:j}));return{type:"crime",types:P,severities:H,statuses:C,timeline:i,total:d.length}}const N=d,f={},R={},E={};N.forEach(r=>{f[r.type]=(f[r.type]||0)+1,R[r.severity]=(R[r.severity]||0)+1,E[r.status]=(E[r.status]||0)+1});const y=Object.entries(f).map(([r,m])=>({name:r,value:m})).sort((r,m)=>m.value-r.value),Y=Object.entries(R).map(([r,m])=>({name:r,value:m}));return{type:"incidents",types:y,severities:Y,statuses:E,timeline:i,total:d.length}},[d,x]);function se(){if(!d.length)return;const t=Object.keys(d[0]),o=t.join(","),i=d.map(R=>t.map(E=>{const y=R[E];return typeof y=="object"&&y!==null?JSON.stringify(y):String(y??"")}).join(",")),N=[o,...i].join(`
`),f=new Blob([N],{type:"text/csv"});ee(f,`${x}_report_${new Date().toISOString().slice(0,10)}.csv`)}function re(){if(!d.length)return;const t=new Blob([JSON.stringify(d,null,2)],{type:"application/json"});ee(t,`${x}_report_${new Date().toISOString().slice(0,10)}.json`)}const G={critical:"#ff003c",high:"#ff6600",medium:"#ffb800",low:"#00ff41"},v=["#ff003c","#ff6600","#ffb800","#00d4ff","#00ff41","#9945ff","#ff0066","#cc6600","#0088ff"];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ne,{className:"h-4 w-4",style:{color:s.color}}),e.jsx("h1",{className:"text-lg font-bold font-[Orbitron] tracking-widest",style:{color:s.color,textShadow:`0 0 12px ${s.color}40`},children:"REPORTS & ANALYTICS"})]}),e.jsxs("p",{className:"text-[10px] text-gray-600 font-mono tracking-[0.2em]",children:[">"," REPORT_ENGINE // CROSS-DOMAIN DATA INTELLIGENCE"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:se,disabled:!d.length,className:"flex items-center gap-2 border px-4 py-2 text-[10px] font-mono tracking-wider transition-colors disabled:opacity-30",style:{borderColor:s.color+"30",color:s.color,backgroundColor:s.color+"08"},children:[e.jsx(Z,{className:"h-3 w-3"})," CSV"]}),e.jsxs("button",{onClick:re,disabled:!d.length,className:"flex items-center gap-2 border px-4 py-2 text-[10px] font-mono tracking-wider transition-colors disabled:opacity-30",style:{borderColor:s.color+"30",color:s.color,backgroundColor:s.color+"08"},children:[e.jsx(Z,{className:"h-3 w-3"})," JSON"]})]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:Object.keys(V).map(t=>{const o=V[t],i=t===x;return e.jsxs("button",{onClick:()=>g(t),className:"relative border px-3 py-3 text-center transition-all group",style:{borderColor:i?o.color+"50":"#111",backgroundColor:i?o.color+"0a":"transparent",boxShadow:i?`0 0 15px ${o.color}15, inset 0 0 20px ${o.color}05`:"none"},children:[i&&e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px",style:{backgroundColor:o.color+"40"}}),e.jsx("span",{className:"text-[14px] block mb-1",style:{color:i?o.color:"#333"},children:o.icon}),e.jsx("span",{className:"text-[9px] font-mono tracking-widest block",style:{color:i?o.color:"#555"},children:o.label}),i&&e.jsx("div",{className:"absolute bottom-0 left-1/4 right-1/4 h-px",style:{backgroundColor:o.color}})]},t)})}),e.jsxs("div",{className:"flex items-end gap-4 bg-gray-950 border p-4 corner-borders relative",style:{borderColor:s.color+"10"},children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent to-transparent",style:{backgroundImage:`linear-gradient(to right, transparent, ${s.color}20, transparent)`}}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[8px] font-mono text-gray-600 mb-1 tracking-widest",children:"FROM_DATE"}),e.jsx("input",{type:"date",value:b,onChange:t=>A(t.target.value),className:"bg-gray-950 border px-3 py-2 text-[10px] font-mono text-gray-400 tracking-wider",style:{borderColor:s.color+"15"}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[8px] font-mono text-gray-600 mb-1 tracking-widest",children:"TO_DATE"}),e.jsx("input",{type:"date",value:W,onChange:t=>te(t.target.value),className:"bg-gray-950 border px-3 py-2 text-[10px] font-mono text-gray-400 tracking-wider",style:{borderColor:s.color+"15"}})]}),e.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[e.jsx(pe,{className:"h-3.5 w-3.5",style:{color:s.color+"60"}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[7px] font-mono text-gray-600 tracking-wider",children:"RECORDS LOADED"}),e.jsx("p",{className:"text-[16px] font-bold font-[Orbitron]",style:{color:s.color},children:F?"...":e.jsx(M,{value:d.length})})]})]})]}),!F&&a&&e.jsxs(e.Fragment,{children:[a.type==="aqi"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{label:"AVG AQI",value:a.avgAqi,color:"#00ff41"},{label:"MAX AQI",value:a.maxAqi,color:"#ff003c"},{label:"MIN AQI",value:a.minAqi,color:"#00d4ff"},{label:"READINGS",value:a.total,color:"#ffb800"}].map(t=>e.jsxs("div",{className:"border px-3 py-3 text-center",style:{borderColor:t.color+"20",backgroundColor:t.color+"05"},children:[e.jsx("p",{className:"text-xl font-bold font-[Orbitron]",style:{color:t.color,textShadow:`0 0 10px ${t.color}30`},children:e.jsx(M,{value:t.value})}),e.jsx("p",{className:"text-[6px] font-mono text-gray-600 tracking-widest mt-0.5",children:t.label})]},t.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-950 border border-brand/10 p-5 corner-borders relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-brand/20 to-transparent"}),e.jsxs("h3",{className:"text-[10px] font-mono text-brand tracking-wider mb-1",children:[">"," AQI_TREND // TIME SERIES"]}),e.jsx("p",{className:"text-[7px] font-mono text-gray-700 tracking-wider mb-3",children:"AQI + PM2.5 OVERLAY"}),e.jsx(k,{width:"100%",height:240,children:e.jsxs(he,{data:a.trendData,children:[e.jsx(T,{strokeDasharray:"3 3",stroke:"#0a1a0a"}),e.jsx(I,{dataKey:"time",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(u,{stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(S,{content:e.jsx(w,{})}),e.jsx(Q,{type:"monotone",dataKey:"aqi",stroke:"#00ff41",fill:"#00ff41",fillOpacity:.15,strokeWidth:2,name:"AQI"}),e.jsx(Q,{type:"monotone",dataKey:"pm25",stroke:"#ff6600",fill:"#ff6600",fillOpacity:.08,strokeWidth:1,name:"PM2.5",strokeDasharray:"4 2"})]})})]}),e.jsxs("div",{className:"bg-gray-950 border border-brand/10 p-5 corner-borders relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-brand/20 to-transparent"}),e.jsxs("h3",{className:"text-[10px] font-mono text-brand tracking-wider mb-1",children:[">"," POLLUTANT_INDEX // AVERAGE LEVELS"]}),e.jsx("p",{className:"text-[7px] font-mono text-gray-700 tracking-wider mb-4",children:"WHO THRESHOLD COMPARISON"}),e.jsx("div",{className:"space-y-3",children:[{name:"PM2.5",val:a.avgPollutants.pm25,threshold:150,unit:"µg/m³"},{name:"PM10",val:a.avgPollutants.pm10,threshold:350,unit:"µg/m³"},{name:"O3",val:a.avgPollutants.o3,threshold:100,unit:"ppb"},{name:"NO2",val:a.avgPollutants.no2,threshold:100,unit:"ppb"},{name:"SO2",val:a.avgPollutants.so2,threshold:40,unit:"ppb"},{name:"CO",val:a.avgPollutants.co,threshold:9,unit:"ppm"}].map(t=>{const o=Math.min(t.val/t.threshold*100,100),i=o>80?"#ff003c":o>50?"#ff6600":o>30?"#ffb800":"#00ff41";return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-[8px] font-mono text-gray-400 tracking-wider",children:t.name}),e.jsxs("span",{className:"text-[8px] font-mono",style:{color:i},children:[t.val.toFixed(1)," ",e.jsx("span",{className:"text-gray-700",children:t.unit})]})]}),e.jsxs("div",{className:"h-1.5 bg-gray-900 overflow-hidden relative",children:[e.jsx("div",{className:"h-full transition-all duration-700",style:{width:`${o}%`,backgroundColor:i,boxShadow:`0 0 6px ${i}50`}}),e.jsx("div",{className:"absolute top-0 bottom-0 w-px bg-danger/40",style:{left:"100%"}})]})]},t.name)})})]})]})]}),a.type==="traffic"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-6 gap-2",children:[{label:"AVG CONGESTION",value:a.avgCongestion,suffix:"%",color:"#00d4ff"},{label:"MAX CONGESTION",value:a.maxCongestion,suffix:"%",color:"#ff003c"},{label:"AVG SPEED",value:a.avgSpeed,suffix:" km/h",color:"#00ff41"},{label:"MAX SPEED",value:a.maxSpeed,suffix:" km/h",color:"#00d4ff"},{label:"MIN SPEED",value:a.minSpeed,suffix:" km/h",color:"#ffb800"},{label:"PEAK HOUR",value:a.peakHour?a.peakHour.hour:0,suffix:":00",color:"#ff6600"}].map(t=>e.jsxs("div",{className:"border px-2 py-3 text-center",style:{borderColor:t.color+"20",backgroundColor:t.color+"05"},children:[e.jsxs("p",{className:"text-lg font-bold font-[Orbitron]",style:{color:t.color,textShadow:`0 0 10px ${t.color}30`},children:[e.jsx(M,{value:t.value}),t.suffix]}),e.jsx("p",{className:"text-[5px] font-mono text-gray-600 tracking-widest mt-0.5",children:t.label})]},t.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-950 border border-info/10 p-5 corner-borders relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-info/20 to-transparent"}),e.jsxs("h3",{className:"text-[10px] font-mono text-info tracking-wider mb-1",children:[">"," SIGNAL_HEALTH // TRAFFIC LIGHT STATUS"]}),e.jsx("p",{className:"text-[7px] font-mono text-gray-700 tracking-wider mb-4",children:"25 MONITORED INTERSECTIONS — DELHI NCR"}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[{label:"OPERATIONAL",value:a.signalStats.operational,color:"#00ff41"},{label:"DEGRADED",value:a.signalStats.degraded,color:"#ffb800"},{label:"FAULT",value:a.signalStats.fault,color:"#ff6600"},{label:"OFFLINE",value:a.signalStats.offline,color:"#ff003c"}].map(t=>e.jsxs("div",{className:"border px-2 py-2 text-center",style:{borderColor:t.color+"15",backgroundColor:t.color+"05"},children:[e.jsx("p",{className:"text-[16px] font-bold font-[Orbitron]",style:{color:t.color},children:e.jsx(M,{value:t.value})}),e.jsx("p",{className:"text-[4.5px] font-mono text-gray-600 tracking-widest",children:t.label})]},t.label))}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-[7px] font-mono text-gray-600 tracking-wider mb-1",children:"SYSTEM HEALTH INDEX"}),e.jsxs("div",{className:"h-3 bg-gray-900 overflow-hidden flex",children:[e.jsx("div",{className:"h-full bg-[#00ff41]",style:{width:`${a.signalStats.operational/25*100}%`,opacity:.7}}),e.jsx("div",{className:"h-full bg-[#ffb800]",style:{width:`${a.signalStats.degraded/25*100}%`,opacity:.7}}),e.jsx("div",{className:"h-full bg-[#ff6600]",style:{width:`${a.signalStats.fault/25*100}%`,opacity:.7}}),e.jsx("div",{className:"h-full bg-[#ff003c]",style:{width:`${a.signalStats.offline/25*100}%`,opacity:.7}})]}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsxs("span",{className:"text-[6px] font-mono text-brand",children:[Math.round(a.signalStats.operational/25*100),"% HEALTHY"]}),a.signalStats.fault+a.signalStats.offline>0&&e.jsxs("span",{className:"text-[6px] font-mono text-danger",children:[a.signalStats.fault+a.signalStats.offline," DISRUPTIONS"]})]})]}),e.jsxs("div",{className:"border border-info/10 p-2 space-y-1",children:[e.jsx("p",{className:"text-[7px] font-mono text-info tracking-wider font-bold",children:"IMPACT EVALUATION"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[7px] font-mono text-gray-500",children:"Traffic delays from faults"}),e.jsx("span",{className:"text-[8px] font-mono font-bold",style:{color:a.signalStats.fault+a.signalStats.offline>3?"#ff003c":"#ffb800"},children:a.signalStats.fault+a.signalStats.offline>3?"SEVERE":a.signalStats.fault+a.signalStats.offline>1?"MODERATE":"MINIMAL"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[7px] font-mono text-gray-500",children:"Est. additional delay"}),e.jsxs("span",{className:"text-[8px] font-mono text-warning font-bold",children:["+",a.signalStats.fault*8+a.signalStats.offline*15," min/corridor"]})]})]})]}),e.jsxs("div",{className:"bg-gray-950 border border-info/10 p-5 corner-borders relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-info/20 to-transparent"}),e.jsxs("h3",{className:"text-[10px] font-mono text-info tracking-wider mb-1",children:[">"," TRAFFIC_FLOW // CONGESTION & SPEED"]}),e.jsx("p",{className:"text-[7px] font-mono text-gray-700 tracking-wider mb-3",children:"DUAL-AXIS TREND ANALYSIS"}),e.jsx(k,{width:"100%",height:260,children:e.jsxs(ye,{data:a.trendData,children:[e.jsx(T,{strokeDasharray:"3 3",stroke:"#0a1a0a"}),e.jsx(I,{dataKey:"time",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(u,{yAxisId:"left",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(u,{yAxisId:"right",orientation:"right",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(S,{content:e.jsx(w,{})}),e.jsx(U,{yAxisId:"left",type:"monotone",dataKey:"congestion",stroke:"#00d4ff",strokeWidth:2,dot:!1,name:"Congestion %"}),e.jsx(U,{yAxisId:"right",type:"monotone",dataKey:"speed",stroke:"#00ff41",strokeWidth:1.5,dot:!1,name:"Speed km/h",strokeDasharray:"4 2"})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-950 border border-info/10 p-5 corner-borders relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-info/20 to-transparent"}),e.jsxs("h3",{className:"text-[10px] font-mono text-info tracking-wider mb-1",children:[">"," ZONE_ANALYSIS // AREA-WISE CONGESTION"]}),e.jsx("p",{className:"text-[7px] font-mono text-gray-700 tracking-wider mb-3",children:"9 DELHI NCR ZONES — RANKED"}),e.jsx(k,{width:"100%",height:260,children:e.jsxs(K,{data:a.zoneData,layout:"vertical",children:[e.jsx(T,{strokeDasharray:"3 3",stroke:"#0a1a0a",horizontal:!1}),e.jsx(I,{type:"number",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"},domain:[0,100]}),e.jsx(u,{type:"category",dataKey:"name",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:7,fontFamily:"JetBrains Mono"},width:55}),e.jsx(S,{content:e.jsx(w,{})}),e.jsx($,{dataKey:"congestion",name:"Congestion %",radius:[0,2,2,0],children:a.zoneData.map((t,o)=>{const i=t.congestion>=70?"#ff003c":t.congestion>=50?"#ff6600":t.congestion>=30?"#ffb800":"#00d4ff";return e.jsx(L,{fill:i,fillOpacity:.6},o)})})]})})]}),e.jsxs("div",{className:"bg-gray-950 border border-info/10 p-5 corner-borders relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-info/20 to-transparent"}),e.jsxs("h3",{className:"text-[10px] font-mono text-info tracking-wider mb-1",children:[">"," CORRIDOR_INDEX // MAJOR ROAD CONGESTION"]}),e.jsx("p",{className:"text-[7px] font-mono text-gray-700 tracking-wider mb-3",children:"KEY ARTERIALS — CONGESTION LEVELS"}),e.jsx(k,{width:"100%",height:260,children:e.jsxs(K,{data:a.corridorData,layout:"vertical",children:[e.jsx(T,{strokeDasharray:"3 3",stroke:"#0a1a0a",horizontal:!1}),e.jsx(I,{type:"number",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"},domain:[0,100]}),e.jsx(u,{type:"category",dataKey:"name",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:7,fontFamily:"JetBrains Mono"},width:85}),e.jsx(S,{content:e.jsx(w,{})}),e.jsx($,{dataKey:"value",name:"Congestion %",radius:[0,2,2,0],children:a.corridorData.map((t,o)=>{const i=t.value>=70?"#ff003c":t.value>=50?"#ff6600":t.value>=30?"#ffb800":"#00d4ff";return e.jsx(L,{fill:i,fillOpacity:.6},o)})})]})})]})]}),e.jsxs("div",{className:"bg-gray-950 border border-info/10 p-5 corner-borders relative",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-info/20 to-transparent"}),e.jsxs("h3",{className:"text-[10px] font-mono text-info tracking-wider mb-1",children:[">"," HOURLY_PATTERN // 24H CONGESTION & SPEED"]}),e.jsx("p",{className:"text-[7px] font-mono text-gray-700 tracking-wider mb-3",children:"AVERAGE BY HOUR OF DAY — DUAL METRICS"}),e.jsx(k,{width:"100%",height:220,children:e.jsxs(Ae,{data:a.hourlyData,children:[e.jsx(T,{strokeDasharray:"3 3",stroke:"#0a1a0a"}),e.jsx(I,{dataKey:"hour",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:7,fontFamily:"JetBrains Mono"}}),e.jsx(u,{yAxisId:"left",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(u,{yAxisId:"right",orientation:"right",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(S,{content:e.jsx(w,{})}),e.jsx($,{yAxisId:"left",dataKey:"congestion",name:"Congestion %",radius:[2,2,0,0],children:a.hourlyData.map((t,o)=>{const i=t.congestion>=70?"#ff003c":t.congestion>=50?"#ff6600":t.congestion>=30?"#ffb800":t.congestion>0?"#00d4ff":"#0a1a0a";return e.jsx(L,{fill:i,fillOpacity:t.congestion>0?.6:.1},o)})}),e.jsx(U,{yAxisId:"right",type:"monotone",dataKey:"speed",stroke:"#00ff41",strokeWidth:1.5,dot:!1,name:"Avg Speed km/h",strokeDasharray:"4 2"})]})})]})]}),(a.type==="crime"||a.type==="incidents")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[e.jsxs("div",{className:"border px-3 py-3 text-center",style:{borderColor:s.color+"20",backgroundColor:s.color+"05"},children:[e.jsx("p",{className:"text-xl font-bold font-[Orbitron]",style:{color:s.color},children:e.jsx(M,{value:a.total})}),e.jsx("p",{className:"text-[6px] font-mono text-gray-600 tracking-widest mt-0.5",children:"TOTAL"})]}),a.severities.slice(0,3).map(t=>e.jsxs("div",{className:"border px-3 py-3 text-center",style:{borderColor:(G[t.name]||s.color)+"20",backgroundColor:(G[t.name]||s.color)+"05"},children:[e.jsx("p",{className:"text-xl font-bold font-[Orbitron]",style:{color:G[t.name]||s.color},children:e.jsx(M,{value:t.value})}),e.jsx("p",{className:"text-[6px] font-mono text-gray-600 tracking-widest mt-0.5",children:t.name.toUpperCase()})]},t.name))]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-950 border p-5 corner-borders relative",style:{borderColor:s.color+"10"},children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent to-transparent",style:{backgroundImage:`linear-gradient(to right, transparent, ${s.color}20, transparent)`}}),e.jsxs("h3",{className:"text-[10px] font-mono tracking-wider mb-1",style:{color:s.color},children:[">"," TYPE_ANALYSIS // CATEGORY BREAKDOWN"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{width:"50%",height:220,children:e.jsxs(ge,{children:[e.jsx(be,{data:a.types,cx:"50%",cy:"50%",innerRadius:40,outerRadius:75,dataKey:"value",stroke:"#020a02",strokeWidth:2,children:a.types.map((t,o)=>e.jsx(L,{fill:v[o%v.length]},o))}),e.jsx(S,{content:e.jsx(w,{})})]})}),e.jsx("div",{className:"flex-1 space-y-1.5 pl-2",children:a.types.map((t,o)=>e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2",style:{backgroundColor:v[o%v.length]}}),e.jsx("span",{className:"text-[7px] font-mono tracking-wider",style:{color:v[o%v.length]+"cc"},children:t.name.toUpperCase()})]}),e.jsx("span",{className:"text-[9px] font-mono font-bold tabular-nums",style:{color:v[o%v.length]},children:t.value})]},t.name))})]})]}),e.jsxs("div",{className:"bg-gray-950 border p-5 corner-borders relative",style:{borderColor:s.color+"10"},children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent to-transparent",style:{backgroundImage:`linear-gradient(to right, transparent, ${s.color}20, transparent)`}}),e.jsxs("h3",{className:"text-[10px] font-mono tracking-wider mb-1",style:{color:s.color},children:[">"," SEVERITY_MATRIX // THREAT LEVELS"]}),e.jsx("p",{className:"text-[7px] font-mono text-gray-700 tracking-wider mb-4",children:"DISTRIBUTION BY SEVERITY"}),e.jsx(k,{width:"100%",height:200,children:e.jsxs(K,{data:a.severities,layout:"vertical",children:[e.jsx(T,{strokeDasharray:"3 3",stroke:"#0a1a0a",horizontal:!1}),e.jsx(I,{type:"number",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(u,{type:"category",dataKey:"name",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"},width:60}),e.jsx(S,{content:e.jsx(w,{})}),e.jsx($,{dataKey:"value",name:"Count",radius:[0,2,2,0],children:a.severities.map(t=>e.jsx(L,{fill:G[t.name]||s.color},t.name))})]})})]})]})]}),e.jsxs("div",{className:"bg-gray-950 border p-5 corner-borders relative",style:{borderColor:s.color+"10"},children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent to-transparent",style:{backgroundImage:`linear-gradient(to right, transparent, ${s.color}20, transparent)`}}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"h-3.5 w-3.5",style:{color:s.color+"80"}}),e.jsxs("h3",{className:"text-[10px] font-mono tracking-wider",style:{color:s.color},children:[">"," ACTIVITY_TIMELINE // DAILY DISTRIBUTION"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(je,{className:"h-3 w-3",style:{color:s.color+"60"}}),e.jsxs("span",{className:"text-[8px] font-mono text-gray-600 tracking-wider",children:[a.timeline.length," DAYS"]})]})]}),e.jsx(k,{width:"100%",height:200,children:e.jsxs(K,{data:a.timeline,children:[e.jsx(T,{strokeDasharray:"3 3",stroke:"#0a1a0a"}),e.jsx(I,{dataKey:"date",stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(u,{stroke:"#1a3a1a",tick:{fill:"#3a5a3a",fontSize:8,fontFamily:"JetBrains Mono"}}),e.jsx(S,{content:e.jsx(w,{})}),e.jsx($,{dataKey:"count",name:"Records",radius:[2,2,0,0],children:a.timeline.map((t,o)=>e.jsx(L,{fill:s.color,fillOpacity:.3+o/a.timeline.length*.7},o))})]})})]}),e.jsxs("div",{className:"bg-gray-950 border p-5 corner-borders relative",style:{borderColor:s.color+"10"},children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent to-transparent",style:{backgroundImage:`linear-gradient(to right, transparent, ${s.color}20, transparent)`}}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-3.5 w-3.5",style:{color:s.color+"80"}}),e.jsxs("h3",{className:"text-[10px] font-mono tracking-wider",style:{color:s.color},children:[">"," RAW_DATA // LATEST RECORDS"]})]}),e.jsxs("span",{className:"text-[8px] font-mono text-gray-600 tracking-wider",children:["SHOWING 10 / ",d.length]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsx("tr",{children:d.length>0&&Object.keys(d[0]).slice(0,6).map(t=>e.jsx("th",{className:"text-[7px] font-mono text-gray-600 text-left px-2 py-1.5 tracking-widest border-b",style:{borderBottomColor:s.color+"15"},children:t.toUpperCase()},t))})}),e.jsx("tbody",{children:d.slice(0,10).map((t,o)=>{const i=t,N=Object.keys(i).slice(0,6);return e.jsx("tr",{className:"hover:bg-gray-900/50 transition-colors",children:N.map(f=>e.jsx("td",{className:"text-[8px] font-mono text-gray-400 px-2 py-1.5 truncate max-w-[120px] border-b border-gray-900/30",children:typeof i[f]=="object"?JSON.stringify(i[f]):String(i[f]??"-")},f))},o)})})]})})]})]}),F&&e.jsx("div",{className:"bg-gray-950 border p-12 text-center",style:{borderColor:s.color+"10"},children:e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full status-dot",style:{backgroundColor:s.color}}),e.jsxs("span",{className:"text-[10px] font-mono tracking-widest",style:{color:s.color},children:["LOADING ",s.label," DATA..."]})]})})]})}function _(x){const g=x.filter(b=>b!==null);return g.length?g.reduce((b,A)=>b+A,0)/g.length:0}function ee(x,g){const b=URL.createObjectURL(x),A=document.createElement("a");A.href=b,A.download=g,A.click(),URL.revokeObjectURL(b)}export{Ge as default};
